<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Demo â€“ achtung.live</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="content-wrapper">
    <header>
      <h1 class="achtung-logo">[achtung.live]</h1>
      <p class="claim">Die Autokorrektur fÃ¼r deine PrivatsphÃ¤re</p>
    </header>

    <main class="live-demo">
      <h2>Jetzt live testen!</h2>
      <form id="demoForm">
        <textarea id="demoText" placeholder="Schreibe hier deinen Text und lass' ihn direkt Ã¼berprÃ¼fenâ€¦" rows="6" required></textarea>
        <p style="font-size: 14px; margin-top:10px;">
          <input type="checkbox" id="privacyPolicyDemo" required>
          <label for="privacyPolicyDemo">Ich akzeptiere die <a href="#" onclick="openModal('datenschutzModal'); return false;">DatenschutzerklÃ¤rung</a>.</label>
        </p>
        <button type="submit">Text analysieren</button>
      </form>

      <div id="feedbackBox" class="analysis-result" style="display:none; margin-top:20px;"></div>

      <div style="text-align:center; margin-top:40px;">
        <button onclick="document.getElementById('caseModal').style.display='block'" style="background:#800000; color:white; padding:8px 16px; border:none; border-radius:6px;">
          Fallbeispiele ansehen
        </button>
      </div>
    </main>
  </div>

  <!-- Popup fÃ¼r Datenschutz -->
  <div id="datenschutzModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('datenschutzModal')">&times;</span>
      <iframe src="datenschutz-popup2.html" style="width:100%; height:400px; border:none;"></iframe>
    </div>
  </div>

  <!-- Popup fÃ¼r Fallbeispiele -->
  <div id="caseModal" class="modal">
    <div class="modal-content" style="max-width:720px;">
      <span class="close" onclick="document.getElementById('caseModal').style.display='none'">&times;</span>

      <div class="case-study-container">
        <div class="case-study-box active">
          <h3>ğŸ” Fallbeispiel: Kreditkartendaten unbewusst geteilt</h3>
          <div class="label">Originaltext eines Nutzers:</div>
          <div class="field">Meine Kreditkartennummer lautet: 3948673029486</div>
          <div class="label">achtung.live Feedback:</div>
          <div class="feedback">Teile sensible Bankdaten wie IBANs oder Kreditkartennummern niemals Ã¶ffentlich.</div>
          <div class="label">Empfohlene Text-Alternative zum Kopieren:</div>
          <div class="field">Ich sende dir meine Zahlungsdaten separat Ã¼ber einen sicheren Kanal.</div>
          <div class="label">achtung.live Tipp:</div>
          <div class="hint">Nutze verschlÃ¼sselte Messenger wie Signal oder sichere KanÃ¤le deiner Bank.</div>
        </div>

        <div class="case-study-box">
          <h3>ğŸ” Fallbeispiel: Standortdaten Ã¶ffentlich geteilt</h3>
          <div class="label">Originaltext eines Nutzers:</div>
          <div class="field">Bin gerade im Urlaub in Italien ğŸ</div>
          <div class="label">achtung.live Feedback:</div>
          <div class="feedback">Standortinformationen verraten, wo du bist - und wo nicht...</div>
          <div class="label">Empfohlene Text-Alternative zum Kopieren:</div>
          <div class="field">Bis bald â€“ ich melde mich wieder mit Neuigkeiten!</div>
          <div class="label">achtung.live Tipp:</div>
          <div class="hint">Poste Urlaubs-Updates erst nach deiner RÃ¼ckkehr.</div>
        </div>

        <div class="case-study-box">
          <h3>ğŸ” Fallbeispiel: Screenshot mit Patientendaten</h3>
          <div class="label">Originaltext eines Nutzers:</div>
          <div class="field">(Screenshot) Diagnosebericht meiner Ã„rztin fÃ¼r die Krankenkasse</div>
          <div class="label">achtung.live Feedback:</div>
          <div class="feedback">Fotos von Dokumenten kÃ¶nnen vertrauliche Gesundheitsdaten enthalten.</div>
          <div class="label">Empfohlene Text-Alternative zum Kopieren:</div>
          <div class="field">Bitte sichere Ãœbertragungswege fÃ¼r Dokumente verwenden.</div>
          <div class="label">achtung.live Tipp:</div>
          <div class="hint">Nutze verschlÃ¼sselte Ãœbermittlung, keine Messenger-Screenshots.</div>
        </div>

        <div class="case-study-box">
          <h3>ğŸ” Fallbeispiel: Arbeitgeber namentlich erwÃ¤hnt</h3>
          <div class="label">Originaltext eines Nutzers:</div>
          <div class="field">Mein Chef bei der XY AG ist total unfÃ¤hig...</div>
          <div class="label">achtung.live Feedback:</div>
          <div class="feedback">Nennungen von Firmen und Namen kÃ¶nnen rechtliche Folgen haben.</div>
          <div class="label">Empfohlene Text-Alternative zum Kopieren:</div>
          <div class="field">Ich habe in meinem Job aktuell Herausforderungen mit der FÃ¼hrungskultur.</div>
          <div class="label">achtung.live Tipp:</div>
          <div class="hint">Personen anonymisieren â€“ Fokus auf die Sache!</div>
        </div>

        <div class="case-study-box">
          <h3>ğŸ” Fallbeispiel: Messenger-Screenshot mit Klarnamen</h3>
          <div class="label">Originaltext eines Nutzers:</div>
          <div class="field">(Screenshot) WhatsApp-Chat mit vollem Namen sichtbar</div>
          <div class="label">achtung.live Feedback:</div>
          <div class="feedback">Screenshots kÃ¶nnen persÃ¶nliche Daten offenlegen.</div>
          <div class="label">Empfohlene Text-Alternative zum Kopieren:</div>
          <div class="field">Anonymisierte Screenshots oder Zitate verwenden.</div>
          <div class="label">achtung.live Tipp:</div>
          <div class="hint">Namen und Profilbilder vorher unkenntlich machen.</div>
        </div>
      </div>

      <div class="case-study-nav">
        <button onclick="changeCase(-1)">Â« ZurÃ¼ck</button>
        <button onclick="changeCase(1)">Weiter Â»</button>
      </div>

      <div style="text-align:center; margin-top:20px;">
        <button onclick="document.getElementById('caseModal').style.display='none'" style="background:#800000; color:white; padding:8px 16px; border:none; border-radius:6px;">
          SchlieÃŸen
        </button>
      </div>
    </div>
  </div>

  <footer class="site-footer">
    <div class="europe">ğŸ‡ªğŸ‡º Aus Europa. FÃ¼r Alle.</div>
    <div class="schutztext">[<span style="color: #800000;">achtung.live</span>] schÃ¼tzt, was zÃ¤hlt: deine Daten, deine PrivatsphÃ¤re, deine Freiheit.</div>
    <div class="claims">DSGVO- & EU AI-Act-konform. Menschlich. Selbstbestimmt. Transparent.</div>
    <nav class="footer-nav">
      <a href="info.html">Info</a> â€¢
      <a href="gefahr.html">Gefahr</a> â€¢
      <a href="demo.html">Demo</a> â€¢
      <a href="ki-hinweis.html">KI-Hinweis</a> â€¢
      <a href="datenschutz.html">Datenschutz</a> â€¢
      <a href="kontakt.html">Kontakt</a> â€¢
      <a href="impressum.html">Impressum</a>
    </nav>
    <div class="copyright">Â© 2025 achtung.live â€“ keine Weitergabe deiner Daten. Kein Tracking. Kein Bullshit.</div>
  </footer>

  <script>
    function openModal(id) {
      document.getElementById(id).style.display = "block";
    }
    function closeModal(id) {
      document.getElementById(id).style.display = "none";
    }

    let currentCase = 0;
    const cases = document.querySelectorAll('.case-study-box');
    function changeCase(dir) {
      cases[currentCase].classList.remove('active');
      currentCase = (currentCase + dir + cases.length) % cases.length;
      cases[currentCase].classList.add('active');
    }

    document.getElementById("demoForm").addEventListener("submit", async function (e) {
      e.preventDefault();
      const text = document.getElementById("demoText").value;
      const box = document.getElementById("feedbackBox");

      box.innerHTML = "<em>Analyse lÃ¤uft â€¦</em>";
      box.style.display = "block";

      try {
        const response = await fetch("https://web-production-2e4ae.up.railway.app/analyze", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ text })
        });

        const data = await response.json();
        const feedbackList = data.feedback;

        if (!Array.isArray(feedbackList)) {
          box.innerHTML = "<strong>Hinweis:</strong> Kein valides Feedback vom Server erhalten.";
          return;
        }

        box.innerHTML = feedbackList.map(entry =>
          `<div style="margin-bottom:12px; padding:12px; background:#fff3f3; border-left:5px solid #800000; color:#800000;">
            <strong>âš ï¸ Hinweis:</strong> ${entry}
          </div>`
        ).join("");
      } catch (err) {
        box.innerHTML = `<div style="color:red;">Fehler bei der Analyse: ${err.message}</div>`;
      }
    });
  </script>
</body>
</html>
