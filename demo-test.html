<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Demo ‚Äì Achtung.live</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .modal-content {
      animation: fadeIn 0.5s ease-in-out;
      background-color: #fefefe;
    }
    @keyframes fadeIn {
      from {opacity: 0;}
      to {opacity: 1;}
    }
    .analysis-result {
      margin: 40px auto;
      padding: 20px;
      max-width: 600px;
      background: #f2f7ff;
      border: 1px solid #002855;
      border-radius: 8px;
      text-align: center;
      color: #002855;
      font-size: 1.1em;
    }
    .case-study {
      margin: 60px auto;
      padding: 30px;
      max-width: 700px;
      background: #fdf6f6;
      border: 1px solid #a60000;
      border-radius: 12px;
      font-size: 1em;
      line-height: 1.6;
    }
    .case-study h3 {
      color: #a60000;
      margin-bottom: 10px;
    }
    .case-study code {
      display: block;
      background: #fff;
      border: 1px solid #ccc;
      padding: 10px;
      margin: 10px 0;
      white-space: pre-wrap;
      font-family: monospace;
    }
  </style>
</head>

<body>

<header>
  <h1>[achtung.live]</h1>
  <p>Die Autokorrektur f√ºr deine Privatsph√§re</p>
</header>

<main>
  <h2>Jetzt live testen!</h2>

  <form id="demoForm">
    <textarea id="demoText" placeholder="Schreibe hier deinen Text und lass' ihn direkt √ºberpr√ºfen..." rows="5" required></textarea>

    <p style="font-size: 14px;">
      <input type="checkbox" id="privacyPolicyDemo" required>
      <label for="privacyPolicyDemo">
        Ich akzeptiere die <a href="#" onclick="openModal('datenschutzModal'); return false;">Datenschutzerkl√§rung</a>.
      </label>
    </p>

    <button type="submit">Text analysieren</button>
  </form>

  <div id="analysisResult" class="analysis-result" style="display: none;"></div>

  <!-- Fallbeispiel-Bereich -->
  <section class="case-study">
    <h3>üîç Fallbeispiel: Kreditkartendaten unbewusst geteilt</h3>
    <p><strong>Originaltext eines Nutzers:</strong></p>
    <code>Meine Kreditkartennummer lautet: 3948673029486</code>

    <p><strong>achtung.live Feedback:</strong></p>
    <code>Achtung: Teile sensible Bankdaten wie IBANs oder Kreditkartennummern niemals √∂ffentlich.</code>

    <p><strong>Empfohlene Alternative:</strong></p>
    <code>Ich sende dir meine Zahlungsdaten separat √ºber einen sicheren Kanal.</code>

    <p><em>Hinweis: Nutze verschl√ºsselte Messenger wie Signal oder frage bei deiner Bank nach einer sicheren Freigabe-Methode.</em></p>
  </section>
</main>

<!-- Datenschutz-Popup -->
<div id="datenschutzModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('datenschutzModal')">&times;</span>
    <iframe src="datenschutz-popup2.html" style="width: 100%; height: 400px; border: none;"></iframe>
  </div>
</div>

<footer class="site-footer">
  <div class="europe">üá™üá∫ Aus Europa. F√ºr Alle.</div>
  
  <div class="schutztext">
    [<span style="color: #800000;">achtung.live</span>] sch√ºtzt, was z√§hlt: deine Daten, deine Privatsph√§re, deine Freiheit.
  </div>
  
  <div class="claims">
    DSGVO- & EU AI-Act-konform. Menschlich. Selbstbestimmt. Transparent.
  </div>

   <nav class="footer-nav">
    <a href="info.html">Info</a> ‚Ä¢
    <a href="gefahr.html">Gefahr</a> ‚Ä¢
    <a href="demo.html">Demo</a> ‚Ä¢
    <a href="ki-hinweis.html">KI-Hinweis</a> ‚Ä¢
    <a href="datenschutz.html">Datenschutz</a> ‚Ä¢
    <a href="kontakt.html">Kontakt</a> ‚Ä¢
    <a href="impressum.html">Impressum</a>
  </nav>

  <div class="copyright">
    ¬© 2025 achtung.live ‚Äì keine Weitergabe deiner Daten. Kein Tracking. Kein Bullshit.
  </div>
</footer>

<script>
function openModal(id) {
  document.getElementById(id).style.display = "block";
}
function closeModal(id) {
  document.getElementById(id).style.display = "none";
}

// Neuer JSON-Sende-Mechanismus und Ergebnisanzeige
document.getElementById('demoForm').addEventListener('submit', async function(event) {
  event.preventDefault();

  const text = document.getElementById('demoText').value;

  const response = await fetch('https://web-production-2e4ae.up.railway.app/analyze', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ text: text })
  });

  if (response.ok) {
    const result = await response.json();
    showAnalysisResult(result);
  } else {
    alert('Fehler beim Senden deines Textes.');
  }
});

function showAnalysisResult(result) {
  const container = document.getElementById('analysisResult');
  container.style.display = 'block';
  container.innerHTML = `<h3>Analyse-Ergebnis:</h3><p>${result.analysis}</p>`;
}
</script>

</body>
</html>